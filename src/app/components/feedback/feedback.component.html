<div class="container">
  <div class="row">
    <div class="col-md-6 col-md-offset-3">
      <form [formGroup]="feedbackForm">
        <div class="form-group">
          <label for="name">Name</label>

          <input class="form-control" type="text" formControlName="name" [(ngModel)]="feedbackData.name" name="name" required>
        </div>

        <div class="text-danger" *ngIf="feedbackForm.controls['name'].invalid && (feedbackForm.controls['name'].dirty || feedbackForm.controls['name'].touched)">
          <div *ngIf="feedbackForm.controls['name'].errors.required">
            Name is required.
          </div>
          <div *ngIf="feedbackForm.controls['name'].errors.minlength">
            Name must be at least 4 characters long.
          </div>
        </div>

        <div class="form-group">
          <label for="name">Email</label>
          <input class="form-control" type="email" formControlName="email" [(ngModel)]="feedbackData.email" name="email" required>
        </div>

        <div class="text-danger" *ngIf="feedbackForm.controls['email'].invalid && (feedbackForm.controls['email'].dirty || feedbackForm.controls['email'].touched)">
          <div *ngIf="feedbackForm.controls['email'].errors.required">
            Email is required.
          </div>
          <div *ngIf="feedbackForm.controls['email'].errors.email">
            Email is badly formatted.
          </div>
        </div>

        <div class="form-group">
          <label for="name">Subject</label>
          <input class="form-control" type="text" formControlName="subject" [(ngModel)]="feedbackData.subject" name="subject" required>
        </div>

        <div class="text-danger" *ngIf="feedbackForm.controls['subject'].invalid && (feedbackForm.controls['subject'].dirty || feedbackForm.controls['subject'].touched)">
          <div *ngIf="feedbackForm.controls['subject'].errors.required">
            Subject is required.
          </div>
        </div>

        <div class="form-group">
          <label for="name">Contact/Feedback</label>
          <select class="form-control" name="type" formControlName="type" #type [(ngModel)]="feedbackData.type" id="" required>
            <option value="">Select type</option>
            <option value="Contact Us">Contact Us</option>
            <option value="Feedback">Feedback</option>
          </select>
        </div>

        <div class="text-danger" *ngIf="feedbackForm.controls['type'].invalid && (feedbackForm.controls['type'].dirty || feedbackForm.controls['type'].touched)">
          <div *ngIf="feedbackForm.controls['type'].errors.required">
            Select any type
          </div>
        </div>

        <div class="form-group rating-group" *ngIf="type.value == 'Feedback' ">
          <button style="background-color: #ff0000;" (click)="setRating($event, 1)" class="btn">1</button>
          <button style="background-color: #ff3300;" (click)="setRating($event,2)" class="btn">2</button>
          <button style="background-color: #ff7300;" (click)="setRating($event,3)" class="btn">3</button>
          <button style="background-color: #ff8800;" (click)="setRating($event,4)" class="btn">4</button>
          <button style="background-color: #ffc400;" (click)="setRating($event,5)" class="btn">5</button>
          <button style="background-color: #b8bb00;" (click)="setRating($event,6)" class="btn">6</button>
          <button style="background-color: #d0ff00;" (click)="setRating($event,7)" class="btn">7</button>
          <button style="background-color: #9dff00;" (click)="setRating($event,8)" class="btn">8</button>
          <button style="background-color: #48ff00;" (click)="setRating($event,9)" class="btn">9</button>
          <button style="background-color: #00ff11;" (click)="setRating($event,10)" class="btn">10</button>
        </div>

        <div class="text-danger" *ngIf="showRatingError">
          Please give us rating.
        </div>

        <div class="form-group">
          <label for="">Description</label>
          <textarea name="desc" formControlName="desc" class="form-control" [(ngModel)]="feedbackData.desc" id="" cols="30" rows="10" required></textarea>
        </div>
        <div class="text-danger" *ngIf="feedbackForm.controls['desc'].invalid && (feedbackForm.controls['desc'].dirty || feedbackForm.controls['desc'].touched)">
          <div *ngIf="feedbackForm.controls['desc'].errors.required">
            Description is required.
          </div>
        </div>
        <button [disabled]="!feedbackForm.valid" (click)="feedbackSubmit()" class="btn btn-info">Submit Form  <span class="glyphicon glyphicon-send"></span></button>
      </form>

    </div>
  </div>
</div>